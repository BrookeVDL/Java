<!DOCTYPE html>
<!-- saved from url=(0106)https://www.codejava.net/coding/file-encryption-and-decryption-simple-example?tmpl=component&print=1&page= -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb" lang="en-gb" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!--<base href="https://www.codejava.net/coding/file-encryption-and-decryption-simple-example">--><base href="."><meta name="keywords" content="Java, file, encrypt, decrypt, cryptography"><meta name="robots" content="noindex, nofollow"><meta name="description" content="Java code example to encrypt and decrypt files using Java Cryptography Extension (JCE) framework."><meta name="generator" content="Joomla! - Open Source Content Management"><title>Java File Encryption and Decryption Simple Example</title><link href="https://www.codejava.net/coding/file-encryption-and-decryption-simple-example?tmpl=component&amp;print=1&amp;page=" rel="canonical"><link href="https://www.codejava.net/templates/protostar/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon"><link rel="stylesheet" href="./CodeSource_files/ec988f02904347321462455e603dbaa0.css" type="text/css"><!--[if lt IE 9]><script src="/media/jui/js/html5.js"></script><![endif]--></head><body class="contentpane modal"><div id="system-message-container"><div id="system-message"></div></div><div class="item-page"><div class="page-header"><h1>Java File Encryption and Decryption Simple Example</h1></div><div class="article-info muted"><dl class="article-info"><dt class="article-info-term">Details</dt><dd class="createdby">Written by &nbsp;<cite><a href="https://www.codejava.net/nam-ha-minh" rel="author">Nam Ha Minh</a></cite></dd><dd class="modified"><span class="icon-calendar"></span> Last Updated on 02 July 2019						&nbsp; | &nbsp;<a href="https://www.codejava.net/coding/file-encryption-and-decryption-simple-example?tmpl=component&amp;print=1&amp;page=" title="Print" onclick="window.open(this.href,&#39;win2&#39;,&#39;status=no,toolbar=no,scrollbars=yes,titlebar=no,menubar=no,resizable=yes,width=640,height=480,directories=no,location=no&#39;); return false;" rel="nofollow"><span class="icon-print"></span>&nbsp;Print&nbsp;</a><a href="https://www.codejava.net/component/mailto/?tmpl=component&amp;template=protostar&amp;link=ca7b46594c98d03e02644d82edfabd6b35c88190" title="Email" onclick="window.open(this.href,&#39;win2&#39;,&#39;width=400,height=350,menubar=yes,resizable=yes&#39;); return false;"><span class="icon-envelope"></span> Email</a></dd></dl></div><div><br><script async="" src="./CodeSource_files/f.txt"></script><!-- Before Content Ads --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-0752457374863186" data-ad-slot="2953175283" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script><br></div>Encryption and decryption are fundamental requirements of every secure-aware application, therefore the Java platform provides strong support for encryption and decryption through its <strong>Java Cryptographic Extension (JCE)</strong> framework which implements the standard cryptographic algorithms such as AES, DES, DESede and RSA. This tutorial shows you how to basically encrypt and decrypt files using the <i>Advanced Encryption Standard (AES) </i>algorithm. AES is a symmetric-key algorithm that uses the same key for both encryption and decryption of data.<p></p>&nbsp;<p></p><h2><span style="font-size: 16pt; line-height: 115%;">1. Basic Steps</span></h2>Here are the general steps to encrypt/decrypt a file in Java:<p></p><ul><li>Create a <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">Key</span></strong> from a given byte array for a given algorithm.</li><li>Get an instance of <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">Cipher</span></strong> class for a given algorithm transformation. See document of the <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html" rel="nofollow" target="_blank">Cipher</a> class for more information regarding supported algorithms and transformations.</li><li>Initialize the <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">Cipher</span></strong> with an appropriate mode (encrypt or decrypt) and the given <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">Key</span></strong>.</li><li>Invoke <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">doFinal(input_bytes)</span></strong> method of the <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">Cipher</span></strong> class to perform encryption or decryption on the <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">input_bytes</span></strong>, which returns an encrypted or decrypted byte array.</li><li>Read an input file to a byte array and write the encrypted/decrypted byte array to an output file accordingly.</li></ul>Now, let’s see some real examples.<p></p>&nbsp;<p></p><h2><span style="font-size: 16pt; line-height: 115%;">2. The CryptoUtils class</span></h2>Here’s a utility class that provides two utility methods, one for encrypt a file and another for decrypt a file:<p></p><div><div id="highlighter_693432" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">package</code> <code class="java plain">net.codejava.crypto;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="java keyword">import</code> <code class="java plain">java.io.File;</code></div><div class="line number4 index3 alt1"><code class="java keyword">import</code> <code class="java plain">java.io.FileInputStream;</code></div><div class="line number5 index4 alt2"><code class="java keyword">import</code> <code class="java plain">java.io.FileOutputStream;</code></div><div class="line number6 index5 alt1"><code class="java keyword">import</code> <code class="java plain">java.io.IOException;</code></div><div class="line number7 index6 alt2"><code class="java keyword">import</code> <code class="java plain">java.security.InvalidKeyException;</code></div><div class="line number8 index7 alt1"><code class="java keyword">import</code> <code class="java plain">java.security.Key;</code></div><div class="line number9 index8 alt2"><code class="java keyword">import</code> <code class="java plain">java.security.NoSuchAlgorithmException;</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="java keyword">import</code> <code class="java plain">javax.crypto.BadPaddingException;</code></div><div class="line number12 index11 alt1"><code class="java keyword">import</code> <code class="java plain">javax.crypto.Cipher;</code></div><div class="line number13 index12 alt2"><code class="java keyword">import</code> <code class="java plain">javax.crypto.IllegalBlockSizeException;</code></div><div class="line number14 index13 alt1"><code class="java keyword">import</code> <code class="java plain">javax.crypto.NoSuchPaddingException;</code></div><div class="line number15 index14 alt2"><code class="java keyword">import</code> <code class="java plain">javax.crypto.spec.SecretKeySpec;</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="java preprocessor">/**</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;</code><code class="java preprocessor">* A utility class that encrypts or decrypts a file. </code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;</code><code class="java preprocessor">* @author www.codejava.net</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;</code><code class="java preprocessor">*</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;</code><code class="java preprocessor">*/</code></div><div class="line number22 index21 alt1"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">CryptoUtils {</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java plain">String ALGORITHM = </code><code class="java string">"AES"</code><code class="java plain">;</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java plain">String TRANSFORMATION = </code><code class="java string">"AES"</code><code class="java plain">;</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">static</code> <code class="java keyword">void</code> <code class="java plain">encrypt(String key, File inputFile, File outputFile)</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">throws</code> <code class="java plain">CryptoException {</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">doCrypto(Cipher.ENCRYPT_MODE, key, inputFile, outputFile);</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number30 index29 alt1">&nbsp;</div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">static</code> <code class="java keyword">void</code> <code class="java plain">decrypt(String key, File inputFile, File outputFile)</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">throws</code> <code class="java plain">CryptoException {</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">doCrypto(Cipher.DECRYPT_MODE, key, inputFile, outputFile);</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number35 index34 alt2">&nbsp;</div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">void</code> <code class="java plain">doCrypto(</code><code class="java keyword">int</code> <code class="java plain">cipherMode, String key, File inputFile,</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">File outputFile) </code><code class="java keyword">throws</code> <code class="java plain">CryptoException {</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">try</code> <code class="java plain">{</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Key secretKey = </code><code class="java keyword">new</code> <code class="java plain">SecretKeySpec(key.getBytes(), ALGORITHM);</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Cipher cipher = Cipher.getInstance(TRANSFORMATION);</code></div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cipher.init(cipherMode, secretKey);</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">FileInputStream inputStream = </code><code class="java keyword">new</code> <code class="java plain">FileInputStream(inputFile);</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">byte</code><code class="java plain">[] inputBytes = </code><code class="java keyword">new</code> <code class="java keyword">byte</code><code class="java plain">[(</code><code class="java keyword">int</code><code class="java plain">) inputFile.length()];</code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">inputStream.read(inputBytes);</code></div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">byte</code><code class="java plain">[] outputBytes = cipher.doFinal(inputBytes);</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">FileOutputStream outputStream = </code><code class="java keyword">new</code> <code class="java plain">FileOutputStream(outputFile);</code></div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">outputStream.write(outputBytes);</code></div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">inputStream.close();</code></div><div class="line number53 index52 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">outputStream.close();</code></div><div class="line number54 index53 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number55 index54 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">catch</code> <code class="java plain">(NoSuchPaddingException | NoSuchAlgorithmException</code></div><div class="line number56 index55 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">| InvalidKeyException | BadPaddingException</code></div><div class="line number57 index56 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">| IllegalBlockSizeException | IOException ex) {</code></div><div class="line number58 index57 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">throw</code> <code class="java keyword">new</code> <code class="java plain">CryptoException(</code><code class="java string">"Error encrypting/decrypting file"</code><code class="java plain">, ex);</code></div><div class="line number59 index58 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number60 index59 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number61 index60 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>Both the methods <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">encrypt()</span></strong> and <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">decrypt()</span></strong> accepts a key, an input file and an output file as parameters, and throws a <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">CryptoException</span></strong> which is a custom exception written as below:<p></p><div><div id="highlighter_354768" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">package</code> <code class="java plain">net.codejava.crypto;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">CryptoException </code><code class="java keyword">extends</code> <code class="java plain">Exception {</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">CryptoException() {</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">CryptoException(String message, Throwable throwable) {</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">super</code><code class="java plain">(message, throwable);</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number11 index10 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>This <a href="https://www.codejava.net/java-core/exception/how-to-create-custom-exceptions-in-java" target="_blank">custom exception</a> eliminates the messy throws clause, thus make the caller invoking those methods without catching a lengthy list of original exceptions.<p></p>&nbsp;<p></p><h2><span style="font-size: 16pt; line-height: 115%;">3. The CryptoUtilsTest class</span></h2><div><br><script async="" src="./CodeSource_files/f.txt"></script><!-- Inside Content Ads --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-0752457374863186" data-ad-slot="7189273158" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script><br></div>The following code is written for a test class that tests the <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">CryptoUtils</span></strong> class above:<p></p><div><div id="highlighter_784335" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">package</code> <code class="java plain">net.codejava.crypto;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="java keyword">import</code> <code class="java plain">java.io.File;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="java preprocessor">/**</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;</code><code class="java preprocessor">* A tester for the CryptoUtils class.</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;</code><code class="java preprocessor">* @author www.codejava.net</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;</code><code class="java preprocessor">*</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;</code><code class="java preprocessor">*/</code></div><div class="line number10 index9 alt1"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">CryptoUtilsTest {</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">static</code> <code class="java keyword">void</code> <code class="java plain">main(String[] args) {</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String key = </code><code class="java string">"Mary has one cat1"</code><code class="java plain">;</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">File inputFile = </code><code class="java keyword">new</code> <code class="java plain">File(</code><code class="java string">"document.txt"</code><code class="java plain">);</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">File encryptedFile = </code><code class="java keyword">new</code> <code class="java plain">File(</code><code class="java string">"document.encrypted"</code><code class="java plain">);</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">File decryptedFile = </code><code class="java keyword">new</code> <code class="java plain">File(</code><code class="java string">"document.decrypted"</code><code class="java plain">);</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">try</code> <code class="java plain">{</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">CryptoUtils.encrypt(key, inputFile, encryptedFile);</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">CryptoUtils.decrypt(key, encryptedFile, decryptedFile);</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">catch</code> <code class="java plain">(CryptoException ex) {</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.out.println(ex.getMessage());</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">ex.printStackTrace();</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number25 index24 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>This test program simply encrypts a text file, and then decrypts the encrypted file. Note that the key used for encryption and decryption here is a string “Mary has one cat”;<p></p><h1>&nbsp;</h1><h2><span style="font-size: 16pt; line-height: 115%;">4. Note about key size</span></h2>The AES algorithm requires that the key size must be 16 bytes (or 128 bit). So if you provide a key whose size is not equal to 16 bytes, a <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">java.security.InvalidKeyException</span></strong> will be thrown. In case your key is longer, you should consider using a padding mechanism that transforms the key into a form in which its size is multiples of 16 bytes. See the <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html" rel="nofollow" target="_blank">Cipher class Javadoc</a> for more details.<p></p>&nbsp;<p></p><h3><span style="line-height: 14.95px;">References:</span></h3><ul><li><a href="http://www.oracle.com/technetwork/java/javase/tech/index-jsp-136007.html" rel="nofollow" target="_blank">Java SE Security</a></li><li><a href="https://en.wikipedia.org/wiki/Advanced_Encryption_Standard" rel="nofollow" target="_blank">Advanced Encryption Standard (AES)</a></li><li><a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html" rel="nofollow" target="_blank">Cipher class Javadoc</a></li></ul><strong><span style="font-size: 14pt; line-height: 115%;"></span></strong><p></p><h3 style="padding: 0px; font-family: &#39;Open Sans&#39;, sans-serif; color: #333333;">&nbsp;</h3><h3 style="padding: 0px; font-family: &#39;Open Sans&#39;, sans-serif; color: #333333;">Other Java Coding Tutorials:</h3><strong><span style="font-size: 14pt; line-height: 115%;"></span></strong><p></p><ul style="font-family: Arial, Helvetica, sans-serif; font-size: 14.3px;"><li style="margin: 0px; padding: 0px;"><a style="margin: 0px; padding: 0px; color: #095197; cursor: pointer;" href="https://www.codejava.net/coding/10-common-mistakes-every-beginner-java-programmer-makes" target="_blank">10 Common Mistakes Every Beginner Java Programmer Makes</a></li><li style="margin: 0px; padding: 0px;"><a style="margin: 0px; padding: 0px; color: #095197; cursor: pointer;" href="https://www.codejava.net/coding/10-java-core-best-practices-every-java-programmer-should-know" target="_blank">10 Java Core Best Practices Every Java Programmer Should Know</a></li><li style="margin: 0px; padding: 0px;"><a style="margin: 0px; padding: 0px; color: #095197; cursor: pointer;" href="https://www.codejava.net/coding/how-to-become-a-good-programmer-13-tasks-you-should-practice-now" target="_blank">How to become a good programmer? 13 tasks you should practice now</a></li><li style="margin: 0px; padding: 0px;"><a href="https://www.codejava.net/coding/how-to-calculate-md5-and-sha-hash-values-in-java" target="_blank">How to calculate MD5 and SHA hash values in Java</a></li><li style="margin: 0px; padding: 0px;"><a href="https://www.codejava.net/coding/how-to-generate-random-numbers-in-java" target="_blank">How to generate random numbers in Java</a></li></ul><div><br><h3>About the Author:</h3><img loading="lazy" width="80" height="80" src="./CodeSource_files/NamAuthor.png" align="left" style="padding: 0px 10px 15px 0px"><cite><a href="https://www.codejava.net/nam-ha-minh" target="_blank" rel="author">Nam Ha Minh</a></cite> is certified Java programmer (SCJP and SCWCD). He started programming with Java in the time of Java 1.4 and has been falling in love with Java since then. Make friend with him on <a href="https://www.facebook.com/namjavaprogrammer" rel="nofollow" target="_blank">Facebook</a> and watch <a href="https://www.youtube.com/codejava?utm_source=codejava&amp;utm_campaign=aboutnamhm" rel="nofollow" target="_blank">his Java videos</a> you YouTube.<br><br><script async="" src="./CodeSource_files/f.txt"></script><!-- Content Bottom Ads --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-0752457374863186" data-ad-slot="6522865221" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script><br><br></div><div class="attachmentsContainer"><div class="attachmentsList" id="attachmentsList_com_content_article_509"><table><caption>Attachments:</caption><tbody><tr class="odd"><td class="at_filename"><a class="at_icon" href="https://www.codejava.net/download-attachment?fid=319" target="_blank" title="Download this file (SimpleFileEncryptionDecryptionDemo.zip)"><img src="./CodeSource_files/zip.gif" alt="Download this file (SimpleFileEncryptionDecryptionDemo.zip)" loading="lazy" width="16" height="16"></a><a class="at_url" href="https://www.codejava.net/download-attachment?fid=319" target="_blank" title="Download this file (SimpleFileEncryptionDecryptionDemo.zip)">SimpleFileEncryptionDecryptionDemo.zip</a></td><td class="at_description">[Java source code]</td><td class="at_file_size">10 kB</td></tr></tbody></table></div></div></div><script src="./CodeSource_files/7dd7034be4094ed177a93c7b5b9ef355.js.download" defer="" type="text/javascript"></script><noscript>JavaScript is currently disabled.</noscript></body></html>